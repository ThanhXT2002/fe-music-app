<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Database Test</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">Database Test</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="container p-4">
    <ion-card>
      <ion-card-header>
        <ion-card-title>Database Functionality Test</ion-card-title>
        <ion-card-subtitle>Testing IndexedDB integration on web platform</ion-card-subtitle>
      </ion-card-header>

      <ion-card-content>
        <div class="test-actions mb-4">
          <ion-button expand="block" (click)="runTests()" [disabled]="isRunning">
            <ion-icon name="refresh-outline" slot="start"></ion-icon>
            {{ isRunning ? 'Running Tests...' : 'Run Tests' }}
          </ion-button>

          <ion-button expand="block" color="danger" (click)="clearData()" [disabled]="isRunning">
            <ion-icon name="trash-outline" slot="start"></ion-icon>
            Clear All Data
          </ion-button>
        </div>

        <div class="test-results" *ngIf="testResults.length > 0">
          <h3>Test Results:</h3>
          <ion-list>
            <ion-item *ngFor="let result of testResults" class="test-result-item">
              <ion-label class="ion-text-wrap">
                {{ result }}
              </ion-label>
            </ion-item>
          </ion-list>
        </div>
      </ion-card-content>
    </ion-card>

    <ion-card>
      <ion-card-header>
        <ion-card-title>Platform Information</ion-card-title>
      </ion-card-header>

      <ion-card-content>
        <ion-list>
          <ion-item>
            <ion-label>
              <h3>Platform</h3>
              <p>{{ getPlatform() }}</p>
            </ion-label>
          </ion-item>
          <ion-item>
            <ion-label>
              <h3>User Agent</h3>
              <p class="ion-text-wrap">{{ getUserAgent() }}</p>
            </ion-label>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>
